/**
 * Kakao SDK for JavaScript - v1.40.3
 *
 * Copyright 2017 Kakao Corp.
 *
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 *
 * OSS Notice | KakaoSDK-Javascript
 *
 * This application is Copyright © Kakao Corp. All rights reserved.
 * The following sets forth attribution notices for third party software that may be contained in this application.
 * If you have any questions or concerns, please contact us at opensource@kakaocorp.com
 *
 *
 * crypto-js
 *
 * https://github.com/brix/crypto-js
 *
 * Copyright 2009-2013 Jeff Mott
 * Copyright 2013-2016 Evan Vosberg
 *
 * MIT License
 *
 *
 * easyXDM
 *
 * https://github.com/oyvindkinsey/easyXDM/
 *
 * Copyright 2009-2011 Øyvind Sean Kinsey, oyvind@kinsey.no
 *
 * MIT License
 *
 *
 * ES6-Promise
 *
 * https://github.com/stefanpenner/es6-promise
 *
 * Copyright 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
 *
 * MIT License
 *
 *
 * Kakao Web2App Library
 *
 * https://github.com/kakao/web2app
 *
 * Copyright 2015 Kakao Corp. http://www.kakaocorp.com
 *
 * MIT License
 *
 *
 * lodash
 *
 * https://github.com/lodash/lodash
 *
 * Copyright JS Foundation and other contributors
 *
 * MIT License
 *
 *
 * ``````````
 * MIT License
 *
 * Copyright (c)
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * 'Software'), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ``````````
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Kakao=t.Kakao||{})}(this,(function(t){"use strict";var e="object"==typeof global&&global&&global.Object===Object&&global,n="object"==typeof self&&self&&self.Object===Object&&self,r=e||n||Function("return this")(),o=r.Symbol,i=Object.prototype,a=i.hasOwnProperty,c=i.toString,u=o?o.toStringTag:void 0;var l=Object.prototype.toString;var f=o?o.toStringTag:void 0;function s(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?function(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=c.call(t);return r&&(e?t[u]=n:delete t[u]),o}(t):function(t){return l.call(t)}(t)}function p(t){return null!=t&&"object"==typeof t}var d=Array.isArray;function h(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function y(t){return t}function v(t){if(!h(t))return!1;var e=s(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var b,m=r["__core-js_shared__"],w=(b=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"";var g=Function.prototype.toString;var k=/^\[object .+?Constructor\]$/,j=Function.prototype,S=Object.prototype,O=j.toString,A=S.hasOwnProperty,x=RegExp("^"+O.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _(t){return!(!h(t)||(e=t,w&&w in e))&&(v(t)?x:k).test(function(t){if(null!=t){try{return g.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function I(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var E=Date.now;var F,P,T,L=function(){try{var t=_(e=function(t,e){return null==t?void 0:t[e]}(Object,"defineProperty"))?e:void 0;return t({},"",{}),t}catch(t){}var e}(),R=(F=L?function(t,e){return L(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:y,P=0,T=0,function(){var t=E(),e=16-(t-T);if(T=t,e>0){if(++P>=800)return arguments[0]}else P=0;return F.apply(void 0,arguments)});function U(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var C=/^(?:0|[1-9]\d*)$/;function B(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&C.test(t))&&t>-1&&t%1==0&&t<e}function K(t,e,n){"__proto__"==e&&L?L(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function z(t,e){return t===e||t!=t&&e!=e}var $=Object.prototype.hasOwnProperty;function q(t,e,n){var r=t[e];$.call(t,e)&&z(r,n)&&(void 0!==n||e in t)||K(t,e,n)}var M=Math.max;function D(t,e){return R(function(t,e,n){return e=M(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=M(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=n(a),I(t,this,c)}}(t,e,y),t+"")}function N(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function J(t){return null!=t&&N(t.length)&&!v(t)}function W(t,e,n){if(!h(n))return!1;var r=typeof e;return!!("number"==r?J(n)&&B(e,n.length):"string"==r&&e in n)&&z(n[e],t)}var H=Object.prototype;function V(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||H)}function G(t){return p(t)&&"[object Arguments]"==s(t)}var Q=Object.prototype,X=Q.hasOwnProperty,Y=Q.propertyIsEnumerable,Z=G(function(){return arguments}())?G:function(t){return p(t)&&X.call(t,"callee")&&!Y.call(t,"callee")};var tt="object"==typeof t&&t&&!t.nodeType&&t,et=tt&&"object"==typeof module&&module&&!module.nodeType&&module,nt=et&&et.exports===tt?r.Buffer:void 0,rt=(nt?nt.isBuffer:void 0)||function(){return!1},ot={};ot["[object Float32Array]"]=ot["[object Float64Array]"]=ot["[object Int8Array]"]=ot["[object Int16Array]"]=ot["[object Int32Array]"]=ot["[object Uint8Array]"]=ot["[object Uint8ClampedArray]"]=ot["[object Uint16Array]"]=ot["[object Uint32Array]"]=!0,ot["[object Arguments]"]=ot["[object Array]"]=ot["[object ArrayBuffer]"]=ot["[object Boolean]"]=ot["[object DataView]"]=ot["[object Date]"]=ot["[object Error]"]=ot["[object Function]"]=ot["[object Map]"]=ot["[object Number]"]=ot["[object Object]"]=ot["[object RegExp]"]=ot["[object Set]"]=ot["[object String]"]=ot["[object WeakMap]"]=!1;var it="object"==typeof t&&t&&!t.nodeType&&t,at=it&&"object"==typeof module&&module&&!module.nodeType&&module,ct=at&&at.exports===it&&e.process,ut=function(){try{var t=at&&at.require&&at.require("util").types;return t||ct&&ct.binding&&ct.binding("util")}catch(t){}}(),lt=ut&&ut.isTypedArray,ft=lt?function(t){return function(e){return t(e)}}(lt):function(t){return p(t)&&N(t.length)&&!!ot[s(t)]},st=Object.prototype.hasOwnProperty;function pt(t,e){var n=d(t),r=!n&&Z(t),o=!n&&!r&&rt(t),i=!n&&!r&&!o&&ft(t),a=n||r||o||i,c=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=c.length;for(var l in t)!e&&!st.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||B(l,u))||c.push(l);return c}function dt(t,e){return function(n){return t(e(n))}}var ht=dt(Object.keys,Object),yt=Object.prototype.hasOwnProperty;function vt(t){return J(t)?pt(t):function(t){if(!V(t))return ht(t);var e=[];for(var n in Object(t))yt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var bt=Object.prototype.hasOwnProperty;function mt(t){if(!h(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=V(t),n=[];for(var r in t)("constructor"!=r||!e&&bt.call(t,r))&&n.push(r);return n}function wt(t){return J(t)?pt(t,!0):mt(t)}var gt,kt=(gt=function(t,e){!function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var c=e[i],u=r?r(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),o?K(n,c,u):q(n,c,u)}}(e,wt(e),t)},D((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=gt.length>3&&"function"==typeof o?(r--,o):void 0,i&&W(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=e[n];a&&gt(t,a,n,o)}return t}))),jt=dt(Object.getPrototypeOf,Object),St=Function.prototype,Ot=Object.prototype,At=St.toString,xt=Ot.hasOwnProperty,_t=At.call(Object);var It,Et=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var c=i[It?a:++r];if(!1===e(o[c],c,o))break}return t};var Ft=function(t,e){return function(n,r){if(null==n)return n;if(!J(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(t,e){return t&&Et(t,e,vt)})),Pt=Object.prototype,Tt=Pt.hasOwnProperty,Lt=D((function(t,e){t=Object(t);var n=-1,r=e.length,o=r>2?e[2]:void 0;for(o&&W(e[0],e[1],o)&&(r=1);++n<r;)for(var i=e[n],a=wt(i),c=-1,u=a.length;++c<u;){var l=a[c],f=t[l];(void 0===f||z(f,Pt[l])&&!Tt.call(t,l))&&(t[l]=i[l])}return t}));function Rt(t,e){var n;return(d(t)?U:Ft)(t,"function"==typeof(n=e)?n:y)}function Ut(t){return"string"==typeof t||!d(t)&&p(t)&&"[object String]"==s(t)}function Ct(t){return!0===t||!1===t||p(t)&&"[object Boolean]"==s(t)}function Bt(t){return p(t)&&1===t.nodeType&&!function(t){if(!p(t)||"[object Object]"!=s(t))return!1;var e=jt(t);if(null===e)return!0;var n=xt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&At.call(n)==_t}(t)}function Kt(t,e){return Array.prototype.slice.call(t).map(e)}function zt(t,e){return[t,e].reduce((function(t,e){return t.filter((function(t){return-1===e.indexOf(t)}))}))}function $t(t){return Object.keys(t||{})}function qt(t){return Bt(t)?t:Ut(t)?document.querySelector(t):null}function Mt(t,e,n){t.addEventListener&&t.addEventListener(e,n,!1)}function Dt(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}function Nt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e?encodeURIComponent:function(t){return t},r=Kt($t(t),(function(e){var r=t[e];return n(e)+"="+n(h(r)?JSON.stringify(r):r)}));return r.join("&")}function Jt(t){if(!d(t))throw new Error("validators should be an Array");return function(e){return t.some((function(t){return t(e)}))}}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Gt(t,e,n){return(Gt=Vt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Ht(o,n.prototype),o}).apply(null,arguments)}function Qt(t){var e="function"==typeof Map?new Map:void 0;return(Qt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Gt(t,arguments,Wt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ht(r,t)})(t)}function Xt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||te(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(t){return function(t){if(Array.isArray(t))return ee(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||te(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(t,e){if(t){if("string"==typeof t)return ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(t,e):void 0}}function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(){var t={_data:{},setItem:function(t,e){return this._data[t]=String(e)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:null},removeItem:function(t){return delete this._data[t]},clear:function(){return this._data={}}};try{"localStorage"in window&&null!==window.localStorage&&(window.localStorage.setItem("store",""),window.localStorage.removeItem("store"),window.localStorage)}catch(e){return t}}();var ne=function(t){function e(t){var e={},n=t?t.split(/\.|-|_/):["0","0","0"];return e.info=n.join("."),e.major=n[0]||"0",e.minor=n[1]||"0",e.patch=n[2]||"0",e}return{ua:t=(t||window.navigator.userAgent).toString().toLowerCase(),browser:function(t){var n={},r=/(dolfin)[ \/]([\w.]+)/.exec(t)||/(edge)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(webkit)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||["","unknown"];return"webkit"===r[1]?r=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||[r[0],"safari",r[2]]:"mozilla"===r[1]?/trident/.test(t)?r[1]="msie":r[1]="firefox":"edge"===r[1]?r[1]="spartan":/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)&&(r[1]="polaris"),n[r[1]]=!0,n.name=r[1],n.version=e(r[2]),n}(t),platform:function(t){return function(t){return!(!t.match(/linux|windows (nt|98)|macintosh/)||t.match(/android|mobile|polaris|lgtelecom|uzard|natebrowser|ktf;|skt;/))}(t)?"pc":function(t){return!!(t.match(/ipad/)||t.match(/android/)&&!t.match(/mobi|mini|fennec/))}(t)?"tablet":function(t){return!!t.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}(t)?"mobile":""}(t),os:function(t){var n={},r=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||!!/android/.test(t)&&["","android","0.0.0"]||!!/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)&&["","polaris","0.0.0"]||/(windows)(?: nt | phone(?: os){0,1} | )([\w._\-]+)/.exec(t)||!!/(windows)/.test(t)&&["","windows","0.0.0"]||/(mac) os x ([\w._\-]+)/.exec(t)||!!/(linux)/.test(t)&&["","linux","0.0.0"]||!!/webos/.test(t)&&["","webos","0.0.0"]||/(bada)[ \/]([\w._\-]+)/.exec(t)||!!/bada/.test(t)&&["","bada","0.0.0"]||!!/(rim|blackberry|bb10)/.test(t)&&["","blackberry","0.0.0"]||["","unknown","0.0.0"];return"iphone"===r[1]||"ipad"===r[1]||"ipod"===r[1]?r[1]="ios":"windows"===r[1]&&"98"===r[2]&&(r[2]="0.98.0"),n[r[1]]=!0,n.name=r[1],n.version=e(r[2]),n}(t),app:function(t){var n={},r=/(crios)[ \/]([\w.]+)/.exec(t)||/(daumapps)[ \/]([\w.]+)/.exec(t)||["",""];return r[1]?(n.isApp=!0,n.name=r[1],n.version=e(r[2])):n.isApp=!1,n}(t)}},re=ne();var oe,ie,ae,ce,ue="https://kauth.kakao.com",le="https://story.kakao.com",fe="kakaonavi-sdk://",se="https://developers.kakao.com",pe=navigator,de=(oe=location,ie=oe.protocol,ae=oe.hostname,ce=oe.port,"".concat(ie,"//").concat(ae).concat(ce?":"+ce:"")),he=re,ye="1.40.3".concat(""),ve=["sdk/".concat(ye),"os/javascript","sdk_type/javascript","lang/".concat(pe.userLanguage||pe.language),"device/".concat(pe.platform.replace(/ /g,"_")),"origin/".concat(encodeURIComponent(de))].join(" "),be={authDomain:ue,authorize:"".concat(ue,"/oauth/authorize"),loginWidget:"".concat(ue,"/public/widget/login/kakaoLoginWidget.html"),redirectUri:"JS-SDK",universalKakaoLink:"".concat("https://talk-apps.kakao.com","/scheme/"),talkLoginScheme:"kakaokompassauth://authorize",talkLoginRedirectUri:"https://kapi.kakao.com/cors/afterlogin.html",talkInappScheme:"kakaotalk://inappbrowser",talkSyncpluginScheme:"kakaotalk://bizplugin?plugin_id=6011263b74fc2b49c73a7298",apiRemote:"".concat("https://kapi.kakao.com","/cors/"),sharerDomain:"https://sharer.kakao.com",talkLinkScheme:"kakaolink://send",talkAndroidPackage:"com.kakao.talk",channel:"https://pf.kakao.com",channelIcon:"".concat(se,"/assets/img/about/logos"),storyShare:"".concat(le,"/s/share"),storyChannelFollow:"".concat(le,"/s/follow"),storyIcon:"".concat(se,"/sdk/js/resources/story/icon_small.png"),storyPostScheme:"storylink://posting",naviStartScheme:"".concat(fe,"navigate"),naviShareScheme:"".concat(fe,"sharePoi"),naviWeb:"https://kakaonavi-wguide.kakao.com/openapi"},me=null;function we(){return me}function ge(t){me=t}var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(o,t);var e,n,r=(e=o,n=Vt(),function(){var t,r=Wt(e);if(n){var o=Wt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Xt(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).name="KakaoError",e}return o}(Qt(Error));function je(t,e,n){if(!1===e(t))throw new ke("Illegal argument for ".concat(n))}function Se(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!h(t))throw new Error("params should be an Object");v(e.before)&&e.before(t),v(e.defaults)?Lt(t,e.defaults(t)):Lt(t,e.defaults);var r=e.required,o=void 0===r?{}:r,i=e.optional,a=void 0===i?{}:i,c=zt($t(o),$t(t));if(c.length>0)throw new ke("Missing required keys: ".concat(c.join(",")," at ").concat(n));var u=kt({},o,a),l=zt($t(t),$t(u));if(l.length>0)throw new ke("Invalid parameter keys: ".concat(l.join(",")," at ").concat(n));return Rt(t,(function(t,e){je(t,u[e],'"'.concat(e,'" in ').concat(n))})),v(e.after)&&e.after(t),t}function Oe(t,e){if(he.os.android){var n=JSON.stringify({appKey:me,KA:ve});return"market://details?id=".concat(t,"&referrer=").concat(n)}return he.os.ios?"https://itunes.apple.com/app/id".concat(e):location.href}var Ae={};function xe(t,e,n){Rt(n,(function(n,r){var o=e.getAttribute(n);null!==o&&(t[r]="true"===o||"false"===o?"true"===o:o)}))}var _e=function(){var t=ne(),e=t.os,n=["firefox","opr/"],r=["KAKAOTALK"];function o(t){window.top.location.replace(t)}function i(t,e,n){var r=(new Date).getTime();return setTimeout((function(){var o=(new Date).getTime();a()&&o-r<t+100&&n(e)}),t)}function a(){for(var t=["hidden","webkitHidden"],e=0,n=t.length;e<n;e++)if(void 0!==document[t[e]])return!document[t[e]];return!0}function c(t){setTimeout((function(){(function(t){var e=document.createElement("iframe");return e.id=t,e.style.border="none",e.style.width="0",e.style.height="0",e.style.display="none",e.style.overflow="hidden",document.body.appendChild(e),e}("appLauncher")).src=t}),100)}return function(u){var l,f,s,p,d="function"==typeof u.willInvokeApp?u.willInvokeApp:function(){},h="function"==typeof u.onAppMissing?u.onAppMissing:o,y="function"==typeof u.onUnsupportedEnvironment?u.onUnsupportedEnvironment:function(){};d(),e.android?(f=t.browser.chrome&&+t.browser.version.major>=25,s=new RegExp(n.join("|"),"i"),p=new RegExp(r.join("|"),"i"),(f&&!s.test(t.ua)||p.test(t.ua))&&u.intentURI&&!u.useUrlScheme?function(e){t.browser.chrome?n():setTimeout(n,100);function n(){top.location.href=e}}(u.intentURI):u.storeURL&&(l=u.urlScheme,i(300,u.storeURL,h),c(l))):e.ios&&u.storeURL?function(e,n,r,o){var u=i(5e3,n,r);parseInt(t.os.version.major,10)<8?function(t){window.addEventListener("pagehide",(function e(){a()&&(clearTimeout(t),window.removeEventListener("pagehide",e))}))}(u):function(t){document.addEventListener("visibilitychange",(function e(){a()&&(clearTimeout(t),document.removeEventListener("visibilitychange",e))}))}(u);parseInt(t.os.version.major,10)>8&&t.os.ios?(void 0===o?o=e:clearTimeout(u),function(t){window.top.location.replace(t)}(o)):c(e)}(u.urlScheme,u.storeURL,h,u.universalLink):setTimeout((function(){y()}),100)}}(),Ie={required:{title:Ut},optional:{desc:Ut,name:Ut,images:d,type:Ut},defaults:{type:"website"},after:function(t){t.images&&(t.imageurl=t.images,delete t.images)}},Ee={createShareButton:{required:{container:Jt([Bt,Ut])},optional:{url:Ut,text:Ut},defaults:{url:location.href}},share:{optional:{url:Ut,text:Ut},defaults:{url:location.href}},open:{optional:{url:Ut,text:Ut,urlInfo:function(t){return h(t)&&!!Se(t,Ie,"Story.open")},install:Ct},defaults:{url:location.href,install:!1}},createFollowButton:{required:{container:Jt([Bt,Ut]),id:Ut},optional:{showFollowerCount:Ct,type:function(t){if(!d(t))throw new Error("elements should be an Array");return function(e){return t.indexOf(e)>-1}}(["horizontal","vertical"])},defaults:{showFollowerCount:!0,type:"horizontal"},after:function(t){"@"!==t.id[0]&&(t.id="@".concat(t.id))}}};function Fe(t){var e,n,r,o,i=kt({url:t.url},Te());t.text&&(i.text=t.text),e="".concat(be.storyShare,"?").concat(Nt(i)),r="width=670, height=800, scrollbars=yes",(o=Ae[n="kakaostory_social_plugin"])&&o.close&&!o.closed&&o.close(),Ae[n]=window.open(e,n,r),Ae[n]}var Pe=0;function Te(){var t={kakao_agent:ve};return null!==we()&&(t.app_key=we()),t}var Le=[];var Re,Ue=(Re=[Object.freeze({__proto__:null,createShareButton:function(t){var e=qt(t.container);if(!e)throw new ke("container is required for Story.createShareButton: pass in element or id");xe(t,e,{url:"data-url"}),t=Se(t,Ee.createShareButton,"Story.createShareButton");var n=function(t,e){var n=document.createElement("a");n.setAttribute("href","#");var r=document.createElement("img");return r.setAttribute("src",t),r.setAttribute("title",e),r.setAttribute("alt",e),n.appendChild(r),n}(be.storyIcon,"카카오스토리 웹 공유 버튼");e.appendChild(n);var r=function(e){e.preventDefault(),Fe(t)};Mt(n,"click",r),Le.push((function(){Dt(n,"click",r),e.removeChild(n)}))},share:function(t){Fe(t=Se(t,Ee.share,"Story.share"))},open:function(t){var e=function(t){var e=location.hostname||"",n=kt({apiver:"1.0",appver:ye,appid:e,appname:e,post:t.text?"".concat(t.text,"\n").concat(t.url):t.url},Te());t.urlInfo&&(n.urlinfo=JSON.stringify(t.urlInfo),n.appname=t.urlInfo.name||n.appname);return"".concat(be.storyPostScheme,"?").concat(Nt(n))}(t=Se(t,Ee.open,"Story.open")),n={urlScheme:e,intentURI:["intent:".concat(e,"#Intent"),"".concat(t.install?"package=com.kakao.story;":"","end;")].join(";"),appName:"KakaoStory",storeURL:Oe("com.kakao.story","486244601"),onUnsupportedEnvironment:function(){t.fail&&t.fail()}};try{_e(n)}catch(t){}},createFollowButton:function(t){var e=qt(t.container);if(!e)throw new ke("container is required for Story.createFollowButton: pass in element or id");xe(t,e,{id:"data-id",showFollowerCount:"data-show-follower-count",type:"data-type"});var n=function(t){var e=Pe++,n=t.showFollowerCount&&"horizontal"===t.type?85:59,r=t.showFollowerCount&&"vertical"===t.type?46:20,o=document.createElement("iframe");o.src=function(t,e){var n=kt({id:t.id,type:t.type,hideFollower:!t.showFollowerCount,frameId:e},Te());return"".concat(be.storyChannelFollow,"?").concat(Nt(n))}(t,e),o.setAttribute("frameborder","0"),o.setAttribute("marginwidth","0"),o.setAttribute("marginheight","0"),o.setAttribute("scrolling","no"),o.setAttribute("style","width:".concat(n,"px; height:").concat(r,"px;"));var i=function(t){if(t.data&&/\.kakao\.com$/.test(t.origin)&&"string"==typeof t.data){var i=Yt(Kt(t.data.split(","),(function(t){return parseInt(t,10)})),3),a=i[0],c=i[1],u=i[2];a===e&&(n!==c&&(o.style.width="".concat(c,"px")),r!==u&&(o.style.height="".concat(u,"px")))}};return{iframe$:o,messageHandler:i}}(t=Se(t,Ee.createFollowButton,"Story.createFollowButton")),r=n.iframe$,o=n.messageHandler;e.appendChild(r),Mt(window,"message",o),Le.push((function(){Dt(window,"message",o),e.removeChild(r)}))},cleanup:function(){!function(t){Rt(t,(function(t){t()})),t.length=0}(Le)}})],kt.apply(void 0,[{cleanup:function(){Rt(Re,(function(t){return t.cleanup&&t.cleanup()}))}}].concat(Zt(Re))));function Ce(){return null!==we()}"function"==typeof define&&define.amd&&(window.Kakao=t),t.Story=Ue,"function"==typeof window.kakaoAsyncInit&&setTimeout((function(){window.kakaoAsyncInit()}),0),t.VERSION=ye,t.cleanup=function(){var t=this;Rt(["Auth","API","Link","Channel","PlusFriend","Story","Navi"],(function(e){return t[e]&&t[e].cleanup()})),ge(null)},t.init=function(t){if(he.browser.msie&&he.browser.version.major<9)throw new ke("Kakao.init: Unsupported browser");if(Ce())throw new ke("Kakao.init: Already initialized");if(!Ut(t))throw new ke("Kakao.init: App key must be provided");ge(t)},t.isInitialized=Ce,Object.defineProperty(t,"__esModule",{value:!0})}));
